{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import'./App.css';import NoteContent from'./components/NoteContent';import SideBar from'./components/SideBar';import Index from'./components/Index';import{v4 as uuidv4}from'uuid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[notes,setNotes]=useState(()=>{const savedNotes=localStorage.getItem('notes');return savedNotes?JSON.parse(savedNotes):[];});// const [currentNote, setCurrentNote] = useState(null);\nconst[searchQuery,setSearchQuery]=useState('');const[isEditing,setIsEditing]=useState(null);const filteredNotes=notes.filter(note=>note.title.toLowerCase().includes(searchQuery.toLowerCase()));// console.log(\"filter: \" + filteredNotes);\nuseEffect(()=>{localStorage.setItem('notes',JSON.stringify(notes));},[notes]);const addNote=()=>{let d=new Date();const noteCount=notes.length+1;const newNote={id:uuidv4(),title:\"\\u7B14\\u8BB0\".concat(noteCount),content:\"\",createTime:d.toLocaleDateString(),updateTime:d.toLocaleDateString()};setNotes([newNote,...notes]);setIsEditing(newNote.id);return newNote.id;};const deleteNote=id=>{const updatedNotes=notes.filter(note=>note.id!==id);console.log(\"delete: \"+notes);setNotes(updatedNotes);};const updateNoteTitle=(id,title)=>{const updatedNotes=notes.map(note=>note.id===id?{...note,title}:note);setNotes(updatedNotes);setIsEditing(null);// 编辑完成后退出编辑状态\n};const updateNote=(id,updatedNote)=>{const updatedNotes=notes.map(note=>note.id===id?updatedNote:note);// updatedNotes.id = id;\nconsole.log(\"NOTE: \"+updatedNotes.id);console.log(\"id\"+id);setNotes(updatedNotes);};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pageWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"caption\",children:/*#__PURE__*/_jsx(\"div\",{children:\"\\u6211\\u7684\\u7B14\\u8BB0\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pageContent\",children:[/*#__PURE__*/_jsx(SideBar,{setSearchQuery:setSearchQuery,notes:filteredNotes,isEditing:isEditing,setIsEditing:setIsEditing,updateNoteTitle:updateNoteTitle,addNote:addNote}),/*#__PURE__*/_jsx(\"div\",{className:\"noteDetail\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Index,{})}),/*#__PURE__*/_jsx(Route,{path:\"/note/:id\",element:/*#__PURE__*/_jsx(NoteContent,{notes:notes,updateNote:updateNote,deleteNote:deleteNote})})]})})]})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","NoteContent","SideBar","Index","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","App","notes","setNotes","savedNotes","localStorage","getItem","JSON","parse","searchQuery","setSearchQuery","isEditing","setIsEditing","filteredNotes","filter","note","title","toLowerCase","includes","setItem","stringify","addNote","d","Date","noteCount","length","newNote","id","concat","content","createTime","toLocaleDateString","updateTime","deleteNote","updatedNotes","console","log","updateNoteTitle","map","updateNote","updatedNote","children","className","path","element"],"sources":["/Users/augustus/Desktop/前端面试准备/note-manager/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\n\nimport './App.css';\n\nimport NoteContent from './components/NoteContent'\nimport SideBar from './components/SideBar';\nimport Index from './components/Index';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nfunction App() {\n  const [notes, setNotes] = useState(() => {\n    const savedNotes = localStorage.getItem('notes');\n    return savedNotes ? JSON.parse(savedNotes) : [];\n  });\n  // const [currentNote, setCurrentNote] = useState(null);\n\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isEditing, setIsEditing] = useState(null);\n\n\n  const filteredNotes = notes.filter(note => note.title.toLowerCase().includes(searchQuery.toLowerCase()));\n  // console.log(\"filter: \" + filteredNotes);\n\n  useEffect(() => {\n    localStorage.setItem('notes', JSON.stringify(notes));\n  }, [notes]);\n\n  const addNote = () => {\n    let d = new Date();\n    const noteCount = notes.length + 1;\n    const newNote = { \n      id: uuidv4(), \n      title: `笔记${noteCount}`, \n      content: `` ,\n      createTime: d.toLocaleDateString(),\n      updateTime: d.toLocaleDateString(), \n    };\n\n    setNotes([newNote, ...notes]);\n    setIsEditing(newNote.id); \n\n    return newNote.id \n\n  };\n\n  const deleteNote = (id) => {\n    const updatedNotes = notes.filter(note => note.id !== id);\n    console.log(\"delete: \" + notes);\n    setNotes(updatedNotes);\n  };\n\n\n  const updateNoteTitle = (id, title) => {\n    const updatedNotes = notes.map((note) => (note.id === id ? { ...note, title } : note));\n    setNotes(updatedNotes);\n    setIsEditing(null); // 编辑完成后退出编辑状态\n  };\n\n  const updateNote = (id, updatedNote) => {\n    const updatedNotes = notes.map(note => (note.id === id ? updatedNote : note));\n    // updatedNotes.id = id;\n    console.log(\"NOTE: \" + updatedNotes.id);\n    console.log(\"id\"  + id);\n    setNotes(updatedNotes);\n  };\n\n  return (\n    <Router>\n\n      <div className=\"App\">\n      <div className=\"pageWrap\">\n\n          <div className=\"caption\">\n            <div>\n              我的笔记\n            </div>\n          </div>\n          <div className='pageContent'>\n            <SideBar  setSearchQuery={setSearchQuery}\n                      notes={filteredNotes} \n                      isEditing={isEditing} \n                      setIsEditing={setIsEditing} \n                      updateNoteTitle={updateNoteTitle}\n                      addNote={addNote}/>\n\n            <div className=\"noteDetail\">\n            <Routes>\n              <Route path=\"/\" element={<Index/>} />\n              <Route path=\"/note/:id\" element={<NoteContent notes={notes} updateNote={updateNote} deleteNote={deleteNote}/>} />\n            </Routes>\n            </div>\n          </div>\n\n      </div>\n    </div>\n    </Router>\n\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}